<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview Â· JuChrom.jl</title><meta name="title" content="Overview Â· JuChrom.jl"/><meta property="og:title" content="Overview Â· JuChrom.jl"/><meta property="twitter:title" content="Overview Â· JuChrom.jl"/><meta name="description" content="Documentation for JuChrom.jl."/><meta property="og:description" content="Documentation for JuChrom.jl."/><meta property="twitter:description" content="Documentation for JuChrom.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuChrom.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuChrom.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox"/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">Core containers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../containers/">Design overview</a></li><li><a class="tocitem" href="../scans/">Scans</a></li><li><a class="tocitem" href="../scanseries/">Scan series</a></li><li><a class="tocitem" href="../scanmatrices/">Scan matrices</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox"/><label class="tocitem" for="menuitem-2-2"><span class="docs-label">Loaders</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../loaderapi/">Loader API</a></li><li><a class="tocitem" href="../agilentfid/">Agilent FID</a></li><li><a class="tocitem" href="../chemstationms/">Agilent ChemStation MS</a></li><li><a class="tocitem" href="../masshunterms/">Agilent MassHunter MS</a></li><li><a class="tocitem" href="../shimadzums/">Shimadzu MS</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-3" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3"><span class="docs-label">Data processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../alignment/">Alignment</a></li><li><a class="tocitem" href="../baseline/">Baseline</a></li><li><input class="collapse-toggle" id="menuitem-2-3-3" type="checkbox"/><label class="tocitem" for="menuitem-2-3-3"><span class="docs-label">Binning and Gridding</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../mz_binning/">m/z binning</a></li><li><a class="tocitem" href="../binning_gridding/">Retention binning and gridding</a></li></ul></li><li><a class="tocitem" href="../deconvolution/">Deconvolution</a></li><li><a class="tocitem" href="../convert/">Format conversion</a></li><li><input class="collapse-toggle" id="menuitem-2-3-6" type="checkbox" checked/><label class="tocitem" for="menuitem-2-3-6"><span class="docs-label">Retention mapping</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Mapping-rationale"><span>Mapping rationale</span></a></li><li><a class="tocitem" href="#JuChrom-retention-mapping"><span>JuChrom retention mapping</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Mapping-tools-at-a-glance"><span>Mapping tools at a glance</span></a></li><li><a class="tocitem" href="#JLD2-support"><span>JLD2 support</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../mapping_tools/">Mapping tools</a></li></ul></li><li><a class="tocitem" href="../transformation/">Transformation</a></li><li><a class="tocitem" href="../transform/">Trimming and Filtering</a></li><li><a class="tocitem" href="../quadvar_model/">Variance modeling</a></li></ul></li></ul></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../../internals/deconvolution/">Deconvolution</a></li><li><a class="tocitem" href="../../internals/transform/">Transform</a></li><li><a class="tocitem" href="../../internals/utils/">Utilities</a></li></ul></li><li><a class="tocitem" href="../register/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li><a class="is-disabled">Data processing</a></li><li><a class="is-disabled">Retention mapping</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl/blob/main/docs/src/man/mapping_overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h1><h2 id="Mapping-rationale"><a class="docs-heading-anchor" href="#Mapping-rationale">Mapping rationale</a><a id="Mapping-rationale-1"></a><a class="docs-heading-anchor-permalink" href="#Mapping-rationale" title="Permalink"></a></h2><p>Retention mapping converts an irregular axis (time or distance) into a stable, comparable  index so chromatograms from different runs can be aligned, interpolated, and compared on a  common grid. This makes retention behavior reproducible across batches, instruments, and  methods while preserving ordering and monotonicity.</p><p>A continuous, differentiable mapping does more than align coordinates: it enables  intensity-aware transforms via the <a href="https://en.wikipedia.org/wiki/Jacobian_matrix_and_determinant"><code>Jacobian</code></a>  (in 1-D this is just the derivative). When you warp the axis, the mapping derivative  provides a principled way to rescale intensities so areas and peak shapes remain physically  meaningful. This yields consistent peak integrals across transformed domains, supports  smooth interpolation, and avoids artifacts from piecewise or discontinuous mappings.</p><p>Mapping points are typically collected from standards with known reference positions. In  gas chromatography, a common example is an n-alkane ladder, which yields paired arrays of  retention times and <a href="https://en.wikipedia.org/wiki/Kovats_retention_index">KovÃ¡ts retention indices</a>  (KovÃ¡ts 1958). Another approach uses a curated set of internal standards (e.g., a few stable  compounds spiked into every run), producing matched retention pairs that anchor the mapping  across batches (Skoog et al. 2007).</p><h2 id="JuChrom-retention-mapping"><a class="docs-heading-anchor" href="#JuChrom-retention-mapping">JuChrom retention mapping</a><a id="JuChrom-retention-mapping-1"></a><a class="docs-heading-anchor-permalink" href="#JuChrom-retention-mapping" title="Permalink"></a></h2><p>JuChrom provides <a href="../mapping_tools/#JuChrom.fitmap"><code>fitmap</code></a> to infer an empirical, smooth mapping  function from paired retention values in domain A (e.g., retention times) and reference  values in domain B (e.g., KovÃ¡ts indices). The fit constructs a cubic B-spline and chooses  the smallest smoothing penalty that still enforces a strictly increasing curve. Concretely,  the objective minimizes squared residuals plus a curvature penalty based on the splineâ€™s  second derivative: large changes in slope are penalized, which discourages wiggles and  yields a smoother, more stable mapping between anchor points. In parallel, nonnegative  first-derivative values are enforced at a dense grid of points to guarantee monotonicity.  This yields a continuous, differentiable, and invertible function (stored in a  <a href="../mapping_tools/#RetentionMapper"><code>RetentionMapper</code></a>) that supports both forward mapping and  reliable reverse mapping via the monotonic inverse.</p><p>For most users, the primary tuning parameter when applying <a href="../mapping_tools/#JuChrom.fitmap"><code>fitmap</code></a>  is smoothing strength (Î»). Larger values emphasize smoothness over exact fit to the anchor  points, while smaller values track the anchors more tightly. The default automatically  searches for the smallest Î» that still yields a strictly monotonic fit.</p><p>JuChrom includes visual diagnostics for a fitted mapper, letting you inspect the forward  and inverse fits side by side. The plotting helpers load automatically once a  <a href="https://docs.makie.org">Makie</a> backend is available. </p><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><pre><code class="language-julia hljs"># Load JuChrom
using JuChrom

# Load CairoMakie for plotting
using CairoMakie
CairoMakie.activate!()

# Known mapping points: retention times (minutes) and KovÃ¡ts indices.
# JuChrom reexports Unitful, so unit literals work without `using Unitful`.
retention_times = [
    27.972, 30.043, 32.011, 33.884, 35.679, 37.398, 39.049, 40.636, 42.164,
    43.636, 45.058, 46.431, 47.759, 49.046, 50.296, 51.669, 53.266, 55.149,
]u&quot;minute&quot;

kovats_indices = [
    1800.0, 1900.0, 2000.0, 2100.0, 2200.0, 2300.0, 2400.0, 2500.0, 2600.0,
    2700.0, 2800.0, 2900.0, 3000.0, 3100.0, 3200.0, 3300.0, 3400.0, 3500.0,
]

# Fit a smooth, strictly increasing mapping function
mapper = fitmap(retention_times, kovats_indices)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">RetentionMapper with 18 calibration points
â”œâ”€ Domain A (input):
â”‚  â”œâ”€ Range: 27.972 to 55.149 (minute)
â”‚  â””â”€ Type: Float64
â”œâ”€ Domain B (output):
â”‚  â”œâ”€ Range: 1800.0 to 3500.0 (unitless)
â”‚  â””â”€ Type: Float64
â”œâ”€ Spline:
â”‚  â”œâ”€ Order: 4 (cubic)
â”‚  â”œâ”€ Knots: 22
â”‚  â””â”€ Coefficients: 22
â””â”€ Fit quality:
   â”œâ”€ Min residual: 0.000 
   â”œâ”€ Avg residual: 0.000 
   â””â”€ Max residual: 0.000 
</code></pre><p>The printed <a href="../mapping_tools/#RetentionMapper"><code>RetentionMapper</code></a> summary provides a compact overview.  For a closer look, plot the forward and inverse maps (including derivatives) and the  residuals.</p><pre><code class="language-julia hljs"># Visual diagnostics (forward/inverse maps and residuals)
fig = plot(mapper; reverse=true, size=(900, 600))
save(&quot;retention_mapper.svg&quot;, fig)</code></pre><p><img src="../retention_mapper.svg" alt/></p><p>While the inferred mapping is fully satisfactory, you may want to tune the smoothing  strength if the anchor points themselves are noisy or not fully trustworthy. Raising <code>Î»_min</code>  prevents overfitting (less wiggle, more stability), while raising <code>Î»_max</code> can help recover  monotonicity when a fit would otherwise fail. Here we increase <code>Î»_min</code> from its default  (<code>1e-20</code>) to <code>1e-7</code> and examine the effect on the derivative plots.</p><pre><code class="language-julia hljs"># Fit mapping function with Î»_min set to 1e-7
mapper_Î»_min_set = fitmap(retention_times, kovats_indices, Î»_min=1e-7)
fig = plot(mapper_Î»_min_set; reverse=true, size=(900, 600))
save(&quot;retention_mapper_Î»_min_set.svg&quot;, fig)</code></pre><p><img src="../retention_mapper_Î»_min_set.svg" alt/></p><p>In the derivative plots the mapping is noticeably smoother, but it no longer passes exactly  through the anchor points, as shown by the residuals. Whether the suppressed wiggles reflect  real structure that should be modeled or are noise that should be smoothed away is a  judgment call for the analyst.</p><p>Let&#39;s continue with the mapper inferred using the default <code>Î»_min</code> and use it to compute retention indices for a few retention times, including extrapolation beyond the domain.</p><pre><code class="language-julia hljs">ri = applymap(mapper, 41.5u&quot;minute&quot;)  # single value</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2556.086726437562</code></pre><pre><code class="language-julia hljs">rts = [10, 29.3, 35.0]u&quot;minute&quot;
ri = applymap.(mapper, rts)  # dot form broadcasts over the vector</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Float64}:
  941.2342359932637
 1863.7322806002733
 2161.6673554876</code></pre><div class="admonition is-warning" id="Domain-limits-and-extrapolation-6631dac996c5f049"><header class="admonition-header">Domain limits and extrapolation<a class="admonition-anchor" href="#Domain-limits-and-extrapolation-6631dac996c5f049" title="Permalink"></a></header><div class="admonition-body"><p>Mappings are defined over the anchor domain. Values outside that domain are linearly  extrapolated using the slope at the nearest boundary. Use <code>warn=true</code> on  <a href="../mapping_tools/#JuChrom.applymap"><code>applymap</code></a> / <a href="../mapping_tools/#JuChrom.invmap"><code>invmap</code></a> / <a href="../mapping_tools/#JuChrom.derivmap"><code>derivmap</code></a> / <a href="../mapping_tools/#JuChrom.derivinvmap"><code>derivinvmap</code></a> or the <code>raw*</code> variants to surface extrapolation during analysis.</p></div></div><p>To invert the mapping (e.g., from KovÃ¡ts to retention time), use  <a href="../mapping_tools/#JuChrom.invmap"><code>invmap</code></a>.</p><pre><code class="language-julia hljs">ris = [1853.2, 3137.3, 3501.0]
rts = invmap.(mapper, ris)  # dot form broadcasts over the vector</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Quantity{Float64, ğ“, Unitful.FreeUnits{(minute,), ğ“, nothing}}}:
 29.081984562079636 minute
 49.5074124475788 minute
 55.1688195029413 minute</code></pre><p>To transform intensities with the Jacobian, use the derivative of the mapping. If <code>ri = f(t)</code>, then <code>d(ri)/dt</code> is the local stretch factor; to preserve area, you divide the intensity by this slope at the same time point.</p><pre><code class="language-julia hljs">scantimes = [1802.5, 1803.0, 1803.5]u&quot;s&quot;
intensities = [1000, 4000, 3500]

dridt = derivmap.(mapper, scantimes)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Quantity{Float64, ğ“^-1, Unitful.FreeUnits{(minute^-1,), ğ“^-1, nothing}}}:
 49.27528351867995 minute^-1
 49.28703268269347 minute^-1
 49.29882599514628 minute^-1</code></pre><p>Note that you can supply mapping inputs in any compatible time unit; values are converted automatically.</p><p>The derivative tells you how much the KovÃ¡ts retention index changes per unit time. To transform the intensities associated with each scan time, divide by the Jacobian (i.e., <code>d(ri)/dt</code>).</p><pre><code class="language-julia hljs">ints_transformed = intensities ./ dridt</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">3-element Vector{Quantity{Float64, ğ“, Unitful.FreeUnits{(minute,), ğ“, nothing}}}:
 20.294150101052313 minute
 81.15724932664794 minute
 70.99560546015016 minute</code></pre><p>The transformed intensities are now expressed per unit of retention index rather than per unit time, reflecting the change of variables.</p><h2 id="Mapping-tools-at-a-glance"><a class="docs-heading-anchor" href="#Mapping-tools-at-a-glance">Mapping tools at a glance</a><a id="Mapping-tools-at-a-glance-1"></a><a class="docs-heading-anchor-permalink" href="#Mapping-tools-at-a-glance" title="Permalink"></a></h2><table><tr><th style="text-align: left">Function</th><th style="text-align: left">Use case</th></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.fitmap"><code>fitmap</code></a></td><td style="text-align: left">Infer mapping function from paired points</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.applymap"><code>applymap</code></a></td><td style="text-align: left">Map retention domain A â†’ retention domain B</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.invmap"><code>invmap</code></a></td><td style="text-align: left">Map retention domain B â†’ retention domain A</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.derivmap"><code>derivmap</code></a></td><td style="text-align: left">Jacobian <code>d(ri)/dt</code> for intensity scaling</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.derivinvmap"><code>derivinvmap</code></a></td><td style="text-align: left">Inverse mapping derivative</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawapplymap"><code>rawapplymap</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.applymap"><code>applymap</code></a></td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawinvmap"><code>rawinvmap</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.invmap"><code>invmap</code></a></td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawderivmap"><code>rawderivmap</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.derivmap"><code>derivmap</code></a></td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawderivinvmap"><code>rawderivinvmap</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.derivinvmap"><code>derivinvmap</code></a></td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.retentions_A"><code>retentions_A</code></a>, <a href="../mapping_tools/#JuChrom.retentions_B"><code>retentions_B</code></a></td><td style="text-align: left">Anchor vectors used to fit the mapper</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawretentions_A"><code>rawretentions_A</code></a>, <a href="../mapping_tools/#JuChrom.rawretentions_B"><code>rawretentions_B</code></a></td><td style="text-align: left">Unitless anchor vectors</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.retentionunit_A"><code>retentionunit_A</code></a>, <a href="../mapping_tools/#JuChrom.retentionunit_B"><code>retentionunit_B</code></a></td><td style="text-align: left">Stored units for the anchor domains</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.extras-Tuple{JuChrom.AbstractRetentionMapper}"><code>extras</code></a></td><td style="text-align: left">Metadata attached to the mapper</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.mapmin"><code>mapmin</code></a>, <a href="../mapping_tools/#JuChrom.mapmax"><code>mapmax</code></a></td><td style="text-align: left">Numeric minimum and maximum value of the input domain</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.invmapmin"><code>invmapmin</code></a>, <a href="../mapping_tools/#JuChrom.invmapmax"><code>invmapmax</code></a></td><td style="text-align: left">Numeric minimum and maximum value of the output domain</td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawmapmin"><code>rawmapmin</code></a>, <a href="../mapping_tools/#JuChrom.rawmapmax"><code>rawmapmax</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.mapmin"><code>mapmin</code></a> and <a href="../mapping_tools/#JuChrom.mapmax"><code>mapmax</code></a></td></tr><tr><td style="text-align: left"><a href="../mapping_tools/#JuChrom.rawinvmapmin"><code>rawinvmapmin</code></a>, <a href="../mapping_tools/#JuChrom.rawinvmapmax"><code>rawinvmapmax</code></a></td><td style="text-align: left">Unitless variant of <a href="../mapping_tools/#JuChrom.invmapmin"><code>invmapmin</code></a>, <a href="../mapping_tools/#JuChrom.invmapmax"><code>invmapmax</code></a></td></tr></table><p>For full API details, see <a href="../mapping_tools/">Mapping tools</a>.</p><h2 id="JLD2-support"><a class="docs-heading-anchor" href="#JLD2-support">JLD2 support</a><a id="JLD2-support-1"></a><a class="docs-heading-anchor-permalink" href="#JLD2-support" title="Permalink"></a></h2><p>JuChrom also ships a <code>JLD2</code> extension so <a href="../mapping_tools/#RetentionMapper"><code>RetentionMapper</code></a> objects can be stored  and restored with <a href="https://github.com/JuliaIO/JLD2.jl"><code>JLD2</code></a>. The extension loads  automatically once <code>JLD2</code> is available.</p><pre><code class="language-julia hljs">using JLD2

# Save and load single mapper
save_object(&quot;retention_mapper.jld2&quot;, mapper)
mapper_loaded = load_object(&quot;retention_mapper.jld2&quot;)

# Save multiple mappers under their own names and load them back
jldsave(&quot;retention_mappers.jld2&quot;; mapper, mapper_Î»_min_set)
mapper_reloaded = JLD2.load(&quot;retention_mappers.jld2&quot;, &quot;mapper&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">RetentionMapper with 18 calibration points
â”œâ”€ Domain A (input):
â”‚  â”œâ”€ Range: 27.972 to 55.149 (minute)
â”‚  â””â”€ Type: Float64
â”œâ”€ Domain B (output):
â”‚  â”œâ”€ Range: 1800.0 to 3500.0 (unitless)
â”‚  â””â”€ Type: Float64
â”œâ”€ Spline:
â”‚  â”œâ”€ Order: 4 (cubic)
â”‚  â”œâ”€ Knots: 22
â”‚  â””â”€ Coefficients: 22
â””â”€ Fit quality:
   â”œâ”€ Min residual: 0.000 
   â”œâ”€ Avg residual: 0.000 
   â””â”€ Max residual: 0.000 
</code></pre><pre><code class="language-julia hljs">mapper_Î»_min_set_loaded = JLD2.load(&quot;retention_mappers.jld2&quot;, &quot;mapper_Î»_min_set&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">RetentionMapper with 18 calibration points
â”œâ”€ Domain A (input):
â”‚  â”œâ”€ Range: 27.972 to 55.149 (minute)
â”‚  â””â”€ Type: Float64
â”œâ”€ Domain B (output):
â”‚  â”œâ”€ Range: 1799.9 to 3500.6 (unitless)
â”‚  â””â”€ Type: Float64
â”œâ”€ Spline:
â”‚  â”œâ”€ Order: 4 (cubic)
â”‚  â”œâ”€ Knots: 22
â”‚  â””â”€ Coefficients: 22
â””â”€ Fit quality:
   â”œâ”€ Min residual: 0.001 
   â”œâ”€ Avg residual: 0.212 
   â””â”€ Max residual: 0.910 
</code></pre><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><ul><li>KovÃ¡ts E (1958): Gas-Chromatographische Charakterisierung organischer Verbindungen. Teil 1: Retentionsindices aliphatischer Halogenide,Alkohole, Aldehyde und Ketone. Helvetica Chimica Acta 41: 1915-1932.</li><li>Skoog DA, Holler FJ, Crouch SR (2007): Principles of Instrumental Analysis. 6th ed. Thomson Brooks/Cole.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../convert/">Â« Format conversion</a><a class="docs-footer-nextpage" href="../mapping_tools/">Mapping tools Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Monday 19 January 2026 10:38">Monday 19 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
