<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mass Spectra · JuChrom</title><meta name="title" content="Mass Spectra · JuChrom"/><meta property="og:title" content="Mass Spectra · JuChrom"/><meta property="twitter:title" content="Mass Spectra · JuChrom"/><meta name="description" content="Documentation for JuChrom."/><meta property="og:description" content="Documentation for JuChrom."/><meta property="twitter:description" content="Documentation for JuChrom."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuChrom logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuChrom</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../basics/">Basics</a></li><li><a class="tocitem" href="../retentionindices/">Retention Indices</a></li><li class="is-active"><a class="tocitem" href>Mass Spectra</a></li><li><a class="tocitem" href="../import/">Data Import</a></li><li><a class="tocitem" href="../export/">Data Export</a></li></ul></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../../internals/base/">Base</a></li><li><a class="tocitem" href="../../internals/explorer/">Explorer</a></li><li><a class="tocitem" href="../../internals/inputoutput/">InputOutput</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/retentionindices/">Retention Indices</a></li></ul></li><li><a class="tocitem" href="../register/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Mass Spectra</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mass Spectra</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl/blob/main/docs/src/man/massspectra.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Mass-Spectra"><a class="docs-heading-anchor" href="#Mass-Spectra">Mass Spectra</a><a id="Mass-Spectra-1"></a><a class="docs-heading-anchor-permalink" href="#Mass-Spectra" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.AbstractMassSpectrum" href="#JuChrom.AbstractMassSpectrum"><code>JuChrom.AbstractMassSpectrum</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractMassSpectrum</code></pre><p>Supertype for all mass spectrum implementations. All subtypes (e.g., <code>MassSpectrum</code>)  include fields to store ions, their associated intensities, and optionally, retention time,  retention index, and metadata.</p><p>See also <a href="#JuChrom.MassSpectrum"><code>MassSpectrum</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.MassSpectrum" href="#JuChrom.MassSpectrum"><code>JuChrom.MassSpectrum</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MassSpectrum(ions::AbstractVector{&lt;:Real}, intensities::AbstractVector{&lt;:Real};
retentiontime::Union{Unitful.Time, Nothing}=nothing,
retentionindexname::Union{AbstractString, Nothing}=nothing,
retentionindex::Union{&lt;:Real, Nothing}=nothing, metadata::Dict=Dict())</code></pre><p>Construct a <code>ChromMS</code> object that includes <code>scantimes</code>, <code>ions</code>, <code>intensities</code>, and  <code>metadata</code>. Note that <code>scantimes</code> and <code>ions</code> must be in ascending order, and <code>intensities</code>  must not contain any values less than zero. The <code>retentiontime</code> must include a time unit.  All time units supported by the  <a href="https://painterqubits.github.io/Unitful.jl">Unitful.jl package</a>(e.g., <code>u&quot;s&quot;</code>, <code>u&quot;minute&quot;</code>)  are accepted.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.retentiontime"><code>retentiontime(::AbstractMassSpectrum; ::Unitful.TimeUnits, ::Bool)</code></a>,  <a href="#JuChrom.retentionindexname-Tuple{AbstractMassSpectrum}"><code>retentionindexname(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.retentionindex-Tuple{AbstractMassSpectrum}"><code>retentionindex(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.metadata-Tuple{AbstractMassSpectrum}"><code>metadata(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.sharedions"><code>sharedions</code></a>,  <a href="#JuChrom.similarity"><code>similarity</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; MassSpectrum([85.1, 112.2, 124.1], Int64[13, 0, 67])
MassSpectrum {ions: Float64, intensities: Int64}
3 ions: m/z 85.1, 112.2, 124.1
intensity range: 0 - 67
metadata: 0 entries

julia&gt; MassSpectrum([85.1, 112.2, 124.1], Int64[13, 0, 67], retentiontime=3.2u&quot;minute&quot;)
MassSpectrum {ions: Float64, intensities: Int64}
3 ions: m/z 85.1, 112.2, 124.1
intensity range: 0 - 67
retention time: 3.2 minute
metadata: 0 entries

julia&gt; MassSpectrum([1.2, 2.1], [1.1, 8.1], retentionindex=131, retentionindexname=&quot;Kovats&quot;)
MassSpectrum {ions: Float64, intensities: Float64}
2 ions: m/z 1.2, 2.1
intensity range: 1.1 - 8.1
retention index: 131 (Kovats)
metadata: 0 entries

julia&gt; MassSpectrum([85.1, 112.2, 124.1], [13.0, 0.0, 67.0], metadata=Dict(:name=&gt;&quot;Hexane&quot;))
MassSpectrum {ions: Float64, intensities: Float64}
3 ions: m/z 85.1, 112.2, 124.1
intensity range: 0.0 - 67.0
metadata: 1 entry</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L105-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.cosine" href="#JuChrom.cosine"><code>JuChrom.cosine</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cosine(x::AbstractVector{&lt;:Real}, y::AbstractVector{&lt;:Real})</code></pre><p>Return the angle between two non-zero vectors, which can be considered a measure of the similarity (i.e., <code>cosine</code> similarity) between the two vectors.</p><p>See also <a href="#JuChrom.similarity"><code>similarity</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; cosine([100, 500, 250], [200, 1000, 0]) ≈ 0.8978872704229618
true

julia&gt; cosine([100, 0, 50], [0, 20, 0]) ≈ 0.0
true

julia&gt; cosine([10, 50, 25], [100, 500, 250]) ≈ 1.0
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L174-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.intensities-Tuple{AbstractMassSpectrum}" href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>JuChrom.intensities</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intensities(ms::AbstractMassSpectrum)</code></pre><p>Return the intensities.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>,  <a href="#JuChrom.intensity-Tuple{AbstractMassSpectrum, Integer}"><code>intensity(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.maxintensity-Tuple{AbstractMassSpectrum}"><code>maxintensity(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.minintensity-Tuple{AbstractMassSpectrum}"><code>minintensity(::AbstractMassSpectrum)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; intensities(ms)
3-element Vector{Int64}:
 13
  0
 67</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L206-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.intensity-Tuple{AbstractMassSpectrum, Integer}" href="#JuChrom.intensity-Tuple{AbstractMassSpectrum, Integer}"><code>JuChrom.intensity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intensity(ms::AbstractMassSpectrum, ionindex::Integer)</code></pre><p>Return the intensity for an ion by specifying its index.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.maxintensity-Tuple{AbstractMassSpectrum}"><code>maxintensity(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.minintensity-Tuple{AbstractMassSpectrum}"><code>minintensity(::AbstractMassSpectrum)</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; intensity(ms, 1)
13

julia&gt; intensity(ms, 2)
0

julia&gt; intensity(ms, 4)
ERROR: BoundsError: attempt to access 3-element Vector{Int64} at index [4]
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L234-L261">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.intensitydifferences" href="#JuChrom.intensitydifferences"><code>JuChrom.intensitydifferences</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intensitydifferences(ms₁::AbstractMassSpectrum, ms₂::AbstractMassSpectrum)</code></pre><p>Return the intensity difference for each ion in ms₁ and ms₂, with any negative results set  to zero. This function assumes both mass spectra contain data for the same set of ions.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.intensitysums"><code>intensitysums</code></a>,  <a href="#JuChrom.meanintensities"><code>meanintensities</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms₁ = MassSpectrum([80, 85, 90], [10, 80, 5]);

julia&gt; ms₂ = MassSpectrum([80, 85, 90], [0, 10, 0]);

julia&gt; intensitydifferences(ms₁, ms₂)
3-element Vector{Int64}:
 10
 70
  5

julia&gt; intensitydifferences(ms₂, ms₁)
3-element Vector{Int64}:
 0
 0
 0

julia&gt; ms₃ = MassSpectrum([80, 85, 90], [5.5, 20.1, 5]);

julia&gt; intensitydifferences(ms₁, ms₃) ≈ [4.5, 59.9, 0.0]
true

julia&gt; intensitydifferences(MassSpectrum([80], [5]), MassSpectrum([81], [5]))
ERROR: ArgumentError: mass spectra differ in ions
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L265-L302">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.intensitysums" href="#JuChrom.intensitysums"><code>JuChrom.intensitysums</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">intensitysums(ms₁::AbstractMassSpectrum, ms₂::AbstractMassSpectrum)</code></pre><p>Return the intensity sums for each ion in ms₁ and ms₂. This function assumes that both mass  spectra contain data for the same set of ions.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.meanintensities"><code>meanintensities</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms₁ = MassSpectrum([80, 85, 90], Int64[0, 10, 0]);

julia&gt; ms₂ = MassSpectrum([80, 85, 90], Int64[10, 80, 5]);

julia&gt; intensitysums(ms₁, ms₂)
3-element Vector{Int64}:
 10
 90
  5

julia&gt; ms₃ = MassSpectrum([80, 85, 90], Float64[10, 80, 5]);

julia&gt; intensitysums(ms₁, ms₃) ≈ [10.0, 90.0, 5.0]
true

julia&gt; intensitysums(MassSpectrum([80], [5]), MassSpectrum([81], [5]))
ERROR: ArgumentError: mass spectra differ in ions
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L314-L344">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}" href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>JuChrom.ion</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ion(ms::AbstractMassSpectrum, ionindex::Integer)</code></pre><p>Return the ion at the specified <code>ionindex</code>.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>,  <a href="#JuChrom.sharedions"><code>sharedions</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; ion(ms, 1)
85

julia&gt; ion(ms, 2)
112

julia&gt; ion(ms, 3)
124

julia&gt; ion(ms, 4)
ERROR: BoundsError: attempt to access 3-element Vector{Int64} at index [4]
[...]

julia&gt; ion.(ms, 1:2)  # broadcasting across multiple ion indices
2-element Vector{Int64}:
  85
 112</code></pre><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>,  <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L352-L393">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}" href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>JuChrom.ionindex</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ionindex(ms::AbstractMassSpectrum, ion::Real) -&gt; Int</code></pre><p>Return the index of the <code>ion</code>. If the <code>ion</code> is not present in the mass spectrum, an error  is raised.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum([85.1, 112.0, 124.2], Int64[13, 0, 67])
MassSpectrum {ions: Float64, intensities: Int64}
3 ions: m/z 85.1, 112.0, 124.2
intensity range: 0 - 67
metadata: 0 entries

julia&gt; ionindex(ms, 124.2)
3

julia&gt; ionindex(ms, 124)
ERROR: ArgumentError: ion 124 does not exist
[...]</code></pre><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>, <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L427-L456">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.ions-Tuple{AbstractMassSpectrum}" href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>JuChrom.ions</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ions(ms::AbstractMassSpectrum)</code></pre><p>Return the ions.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>,  <a href="#JuChrom.sharedions"><code>sharedions</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; ions(ms)
3-element Vector{Int64}:
  85
 112
 124</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L465-L490">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.ioncount-Tuple{AbstractMassSpectrum}" href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>JuChrom.ioncount</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ioncount(ms::AbstractMassSpectrum) -&gt; Int</code></pre><p>Return the number of ions.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>, <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>,  <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.sharedions"><code>sharedions</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; ioncount(ms)
3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L401-L423">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.massspectrum" href="#JuChrom.massspectrum"><code>JuChrom.massspectrum</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">massspectrum(chrom::AbstractChromMS, scanindex::Integer; 
retentionindexname::Union{AbstractString, Nothing}=nothing,
retentionindex::Union{Real, Nothing}=nothing, metadata::Dict=Dict())</code></pre><p>Returns a <code>MassSpectrum</code> containing the intensity values for all ions at the specified  scan index. The optional keyword arguments, <code>retentionindexname</code> and <code>retentionindex</code>,  allow the mass spectrum to be associated with a retention index. Note that both  <code>retentionindexname</code> and <code>retentionindex</code> must always be provided together. The optional  keyword argument <code>metadata</code> allows the mass spectrum to be associated with additional  metadata.</p><p>See also <a href="../basics/#JuChrom.AbstractChromMS"><code>AbstractChromMS</code></a>, <a href="#JuChrom.MassSpectrum"><code>MassSpectrum</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.retentiontime"><code>retentiontime(::AbstractMassSpectrum; ::Unitful.TimeUnits, ::Bool)</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; chrom = ChromMS([1, 2, 3]u&quot;s&quot;, [85, 100], [0 12; 34 956; 23 1])
ChromMS {scan times: Int64, ions: Int64, intensities: Int64}
3 scans; scan times: 1 s, 2 s, 3 s
2 ions: m/z 85, 100
intensity range: 0 - 956
metadata: 0 entries

julia&gt; massspectrum(chrom, 2)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 34 - 956
retention time: 2 s
metadata: 0 entries

julia&gt; massspectrum(chrom, 2, retentionindexname=&quot;Kovats&quot;, retentionindex=123.21)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 34 - 956
retention time: 2 s
retention index: 123.21 (Kovats)
metadata: 0 entries

julia&gt; ms = massspectrum(chrom, 2, metadata=Dict(:compound =&gt; &quot;hexane&quot;))
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 34 - 956
retention time: 2 s
metadata: 1 entry

julia&gt; metadata(ms)
Dict{Any, Any} with 1 entry:
  :compound =&gt; &quot;hexane&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L494-L545">source</a></section><section><div><pre><code class="language-julia hljs">massspectrum(chrom::AbstractChromMS, time::Unitful.Time; precisetime::Bool=false, 
retentionindexname::Union{AbstractString, Nothing}=nothing,
retentionindex::Union{Real, Nothing}=nothing, metadata::Dict=Dict())</code></pre><p>Return a MassSpectrum containing the intensity values for all ions in the scan with a  scan time closest to the specified <code>time</code>. All time units defined in the package  <a href="https://painterqubits.github.io/Unitful.jl">Unitful.jl</a> (e.g., <code>u&quot;s&quot;</code>, <code>u&quot;minute&quot;</code>) are  supported. In case of a tie, the larger scan time is selected. If the optional parameter  <code>precisetime</code> is set to true, the specified time must match exactly, otherwise an error  will be thrown. The optional keyword arguments, <code>retentionindexname</code> and <code>retentionindex</code>,  allow the mass spectrum to be associated with a retention index. Note that both  <code>retentionindexname</code> and <code>retentionindex</code> must always be provided together. The optional  keyword argument <code>metadata</code> allows the mass spectrum to be associated with additional  metadata.</p><p>See also <a href="../basics/#JuChrom.AbstractChromMS"><code>AbstractChromMS</code></a>, <a href="#JuChrom.MassSpectrum"><code>MassSpectrum</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.retentiontime"><code>retentiontime(::AbstractMassSpectrum; ::Unitful.TimeUnits, ::Bool)</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; chrom = ChromMS([1, 2, 3]u&quot;s&quot;, [85, 100], [0 12; 34 956; 23 1])
ChromMS {scan times: Int64, ions: Int64, intensities: Int64}
3 scans; scan times: 1 s, 2 s, 3 s
2 ions: m/z 85, 100
intensity range: 0 - 956
metadata: 0 entries

julia&gt; massspectrum(chrom, 2u&quot;s&quot;)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 34 - 956
retention time: 2 s
metadata: 0 entries

julia&gt; massspectrum(chrom, 2.5u&quot;s&quot;)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 1 - 23
retention time: 3 s
metadata: 0 entries

julia&gt; massspectrum(chrom, 3.5u&quot;s&quot;)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 1 - 23
retention time: 3 s
metadata: 0 entries

julia&gt; massspectrum(chrom, 2.1u&quot;s&quot;, precisetime=true)
ERROR: ArgumentError: scantime 2.1 s does not exist
[...]

julia&gt; massspectrum(chrom, 2.5u&quot;s&quot;, retentionindexname=&quot;Kovats&quot;, retentionindex=123.21)
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 1 - 23
retention time: 3 s
retention index: 123.21 (Kovats)
metadata: 0 entries

julia&gt; ms = massspectrum(chrom, 2.5u&quot;s&quot;, metadata=Dict(:compound =&gt; &quot;hexane&quot;))
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 85, 100
intensity range: 1 - 23
retention time: 3 s
metadata: 1 entry

julia&gt; metadata(ms)
Dict{Any, Any} with 1 entry:
  :compound =&gt; &quot;hexane&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L556-L629">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.maxintensity-Tuple{AbstractMassSpectrum}" href="#JuChrom.maxintensity-Tuple{AbstractMassSpectrum}"><code>JuChrom.maxintensity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">maxintensity(ms::AbstractMassSpectrum)</code></pre><p>Return the maximum intensity.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.minintensity-Tuple{AbstractMassSpectrum}"><code>minintensity(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensity-Tuple{AbstractMassSpectrum, Integer}"><code>intensity(::AbstractMassSpectrum, ::Integer)</code></a>`](@ref).</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; maxintensity(ms)
67</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L639-L659">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.maxion-Tuple{AbstractMassSpectrum}" href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>JuChrom.maxion</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">maxion(ms::AbstractMassSpectrum)</code></pre><p>Return the largest ion.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>minion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; maxion(ms)
124</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L663-L684">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.meanintensities" href="#JuChrom.meanintensities"><code>JuChrom.meanintensities</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">meanintensities(mss::AbstractVector{&lt;:AbstractMassSpectrum}) -&gt; Vector{Float64}</code></pre><p>Return a vector of the average intensities for all ions in the provided mass spectra. This  function assumes that each mass spectrum contains data for the same set of ions.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.intensitydifferences"><code>intensitydifferences</code></a>,  <a href="#JuChrom.intensitysums"><code>intensitysums</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms₁ = MassSpectrum([80, 85, 90], [0, 10, 0]);

julia&gt; ms₂ = MassSpectrum([80, 85, 90], [10, 80, 5]);

julia&gt; meanintensities([ms₁, ms₂]) ≈ Float64[5.0, 45.0, 2.5]
true

julia&gt; meanintensities([MassSpectrum([80], [5]), MassSpectrum([81], [5])])
ERROR: ArgumentError: mass spectra differ in ions
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L688-L711">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.metadata-Tuple{AbstractMassSpectrum}" href="#JuChrom.metadata-Tuple{AbstractMassSpectrum}"><code>JuChrom.metadata</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">metadata(ms::AbstractMassSpectrum) -&gt; Dict{Any, Any}</code></pre><p>Return the metadata.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum([85.1], [13.0], metadata=Dict(:name=&gt;&quot;unknown&quot;))
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 85.1
intensity: 13.0
metadata: 1 entry

julia&gt; metadata(ms)
Dict{Any, Any} with 1 entry:
  :name =&gt; &quot;unknown&quot;

julia&gt; ms = MassSpectrum([85.1], [13.0])
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 85.1
intensity: 13.0
metadata: 0 entries

julia&gt; metadata(ms)
Dict{Any, Any}()

julia&gt; metadata(ms)[:species] = &quot;Polistes dominula&quot;
&quot;Polistes dominula&quot;

julia&gt; metadata(ms)[:id] = 123
123

julia&gt; metadata(ms)
Dict{Any, Any} with 2 entries:
  :species =&gt; &quot;Polistes dominula&quot;
  :id      =&gt; 123

julia&gt; ms
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 85.1
intensity: 13.0
metadata: 2 entries

julia&gt; delete!(metadata(ms), :species)
Dict{Any, Any} with 1 entry:
  :id =&gt; 123

julia&gt; ms
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 85.1
intensity: 13.0
metadata: 1 entry</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L727-L782">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.minintensity-Tuple{AbstractMassSpectrum}" href="#JuChrom.minintensity-Tuple{AbstractMassSpectrum}"><code>JuChrom.minintensity</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">minintensity(ms::AbstractMassSpectrum)</code></pre><p>Return the minimum intensity.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.maxintensity-Tuple{AbstractMassSpectrum}"><code>maxintensity(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.intensity-Tuple{AbstractMassSpectrum, Integer}"><code>intensity(::AbstractMassSpectrum, ::Integer)</code></a>`](@ref).</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; minintensity(ms)
0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L786-L806">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.minion-Tuple{AbstractMassSpectrum}" href="#JuChrom.minion-Tuple{AbstractMassSpectrum}"><code>JuChrom.minion</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">minion(ms::AbstractMassSpectrum)</code></pre><p>Return the smallest ion.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.maxion-Tuple{AbstractMassSpectrum}"><code>maxion(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.ionindex-Tuple{AbstractMassSpectrum, Real}"><code>ionindex(::AbstractMassSpectrum, ::Real)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; minion(ms)
85</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L810-L831">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.retentionindex-Tuple{AbstractMassSpectrum}" href="#JuChrom.retentionindex-Tuple{AbstractMassSpectrum}"><code>JuChrom.retentionindex</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">retentionindex(ms::AbstractMassSpectrum)</code></pre><p>Return the retention index. If no retention index is associated with the mass spectrum, the  function returns the value nothing.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>,  <a href="#JuChrom.retentionindexname-Tuple{AbstractMassSpectrum}"><code>retentionindexname(::AbstractMassSpectrum)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum([1.2], [1.1], retentionindex=131.1, retentionindexname=&quot;Kovats&quot;)
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 1.2
intensity: 1.1
retention index: 131.1 (Kovats)
metadata: 0 entries

julia&gt; retentionindex(ms) ≈ 131.1
true

julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; retentionindex(ms) === nothing
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L835-L865">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.retentionindexname-Tuple{AbstractMassSpectrum}" href="#JuChrom.retentionindexname-Tuple{AbstractMassSpectrum}"><code>JuChrom.retentionindexname</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">retentionindexname(ms::AbstractMassSpectrum)</code></pre><p>Return the retention index name. If the mass spectrum has no associated retention index,  the function returns the value nothing.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.retentionindex-Tuple{AbstractMassSpectrum}"><code>retentionindex(::AbstractMassSpectrum)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum([1.2], [1.1], retentionindex=131.1, retentionindexname=&quot;Kovats&quot;)
MassSpectrum {ions: Float64, intensities: Float64}
1 ion: m/z 1.2
intensity: 1.1
retention index: 131.1 (Kovats)
metadata: 0 entries

julia&gt; retentionindexname(ms)
&quot;Kovats&quot;

julia&gt; ms = MassSpectrum(Int64[85, 112, 124], Int64[13, 0, 67])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 85, 112, 124
intensity range: 0 - 67
metadata: 0 entries

julia&gt; retentionindexname(ms) === nothing
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L869-L898">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.retentiontime" href="#JuChrom.retentiontime"><code>JuChrom.retentiontime</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">retentiontime(ms::AbstractMassSpectrum; timeunit::Unitful.TimeUnits, 
ustripped::Bool=false)</code></pre><p>Return the retention time. If no retention time is associated with the mass spectrum, the  function returns the value nothing. The optional keyword argument <code>timeunit</code> lets you  change the unit of the returned scan time. All time units defined in the package  <a href="https://painterqubits.github.io/Unitful.jl">Unitful.jl</a> (e.g., <code>u&quot;s&quot;</code>, <code>u&quot;minute&quot;</code>) are  supported. The optional keyword argument <code>ustripped</code> lets you choose whether to include the  unit in the returned value.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.massspectrum"><code>massspectrum</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms = MassSpectrum([85.1, 112.2, 124.1], Int64[13, 0, 67], retentiontime=3.2u&quot;minute&quot;)
MassSpectrum {ions: Float64, intensities: Int64}
3 ions: m/z 85.1, 112.2, 124.1
intensity range: 0 - 67
retention time: 3.2 minute
metadata: 0 entries

julia&gt; retentiontime(ms) ≈ 3.2u&quot;minute&quot;
true

julia&gt; retentiontime(ms, timeunit=u&quot;s&quot;) ≈ 192.0u&quot;s&quot;
true

julia&gt; retentiontime(ms, timeunit=u&quot;s&quot;, ustripped=true) ≈ 192.0
true

julia&gt; retentiontime(ms, ustripped=true) ≈ 3.2
true

julia&gt; ms = MassSpectrum([85.1, 112.2, 124.1], Int64[13, 0, 67])
MassSpectrum {ions: Float64, intensities: Int64}
3 ions: m/z 85.1, 112.2, 124.1
intensity range: 0 - 67
metadata: 0 entries

julia&gt; retentiontime(ms) === nothing
true

julia&gt; retentiontime(ms, timeunit=u&quot;ms&quot;, ustripped=true) === nothing
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L902-L948">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.sharedions" href="#JuChrom.sharedions"><code>JuChrom.sharedions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">sharedions(ms₁::AbstractMassSpectrum, ms₂::AbstractMassSpectrum)</code></pre><p>Return the ions present in both mass spectra.</p><p>See also <a href="#JuChrom.MassSpectrum"><code>MassSpectrum</code></a>, <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>,  <a href="#JuChrom.ion-Tuple{AbstractMassSpectrum, Integer}"><code>ion(::AbstractMassSpectrum, ::Integer)</code></a>,  <a href="#JuChrom.ioncount-Tuple{AbstractMassSpectrum}"><code>ioncount(::AbstractMassSpectrum)</code></a>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms₁ = MassSpectrum([80, 85, 90], [100, 500, 250])
MassSpectrum {ions: Int64, intensities: Int64}
3 ions: m/z 80, 85, 90
intensity range: 100 - 500
metadata: 0 entries

julia&gt; ms₂ = MassSpectrum([80, 85], [100, 500])
MassSpectrum {ions: Int64, intensities: Int64}
2 ions: m/z 80, 85
intensity range: 100 - 500
metadata: 0 entries

julia&gt; sharedions(ms₁, ms₂)
2-element Vector{Int64}:
 80
 85</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L961-L989">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="JuChrom.similarity" href="#JuChrom.similarity"><code>JuChrom.similarity</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">similarity(ms₁::AbstractMassSpectrum, ms₂::AbstractMassSpectrum, f::Function)</code></pre><p>Compute the similarity between the two mass spectra by applying the similarity function <code>f</code>  (e.g., <code>cosine</code>) to the intensity values of the ions shared between <code>ms₁</code> and <code>ms₂</code>.</p><p>See also <a href="#JuChrom.AbstractMassSpectrum"><code>AbstractMassSpectrum</code></a>, <a href="#JuChrom.cosine"><code>cosine</code></a>,  <a href="#JuChrom.sharedions"><code>sharedions</code></a>,  <a href="#JuChrom.ions-Tuple{AbstractMassSpectrum}"><code>ions(::AbstractMassSpectrum)</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassSpectrum}"><code>intensities(::AbstractMassSpectrum)</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ms₁ = MassSpectrum(Int64[80, 85, 90], Int64[100, 500, 250]);

julia&gt; ms₂ = MassSpectrum(Int32[80, 85], Int32[200, 1000]);

julia&gt; similarity(ms₁, ms₂, cosine) ≈ 1.0
true

julia&gt; ms₁ = MassSpectrum(Float64[80, 85, 90], Float32[100, 500, 250]);

julia&gt; ms₂ = MassSpectrum(Int64[80, 85, 90], Int32[200, 1000, 0]);

julia&gt; similarity(ms₁, ms₂, cosine) ≈ 0.8978873122816586
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/5a89525cd102cc34e4d5b520cbdeaacddfa80c13/src/massspectra.jl#L994-L1020">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../retentionindices/">« Retention Indices</a><a class="docs-footer-nextpage" href="../import/">Data Import »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Thursday 24 April 2025 12:43">Thursday 24 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
