<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ScanMatrices · JuChrom</title><meta name="title" content="ScanMatrices · JuChrom"/><meta property="og:title" content="ScanMatrices · JuChrom"/><meta property="twitter:title" content="ScanMatrices · JuChrom"/><meta name="description" content="Documentation for JuChrom."/><meta property="og:description" content="Documentation for JuChrom."/><meta property="twitter:description" content="Documentation for JuChrom."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="JuChrom logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuChrom</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../Scans/">Scans</a></li><li><a class="tocitem" href="../ScanSeries/">ScansSeries</a></li><li class="is-active"><a class="tocitem" href>ScanMatrices</a></li><li><a class="tocitem" href="../loaders/">Loaders</a></li><li><a class="tocitem" href="../convert/">Convert</a></li><li><a class="tocitem" href="../transform/">Transform</a></li><li><a class="tocitem" href="../retention_mapper/">Retention Mapper</a></li><li><a class="tocitem" href="../quadvar_model/">Quadratic Variance Model</a></li><li><a class="tocitem" href="../baseline/">Baseline</a></li><li><a class="tocitem" href="../alignment/">Alignment</a></li></ul></li><li><span class="tocitem">Internals</span><ul><li><a class="tocitem" href="../../internals/transform/">Transform</a></li><li><a class="tocitem" href="../../internals/utils/">Utilities</a></li></ul></li><li><a class="tocitem" href="../register/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>ScanMatrices</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ScanMatrices</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/oniehuis/JuChrom.jl/blob/main/docs/src/man/ScanMatrices.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ScanMatrices"><a class="docs-heading-anchor" href="#ScanMatrices">ScanMatrices</a><a id="ScanMatrices-1"></a><a class="docs-heading-anchor-permalink" href="#ScanMatrices" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="JuChrom.AbstractMassScanMatrix"><a class="docstring-binding" href="#JuChrom.AbstractMassScanMatrix"><code>JuChrom.AbstractMassScanMatrix</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AbstractMassScanMatrix{R, M, I} &lt;: Any</code></pre><p>Abstract supertype for all matrix-based representations of mass spectrometry scan data.</p><p><code>R</code> is the separation axis unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>), <code>M</code> is the m/z unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>), and <code>I</code> is the intensity unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>).</p><p>Concrete subtypes are expected to define <code>retentions</code>, <code>mzvalues</code>, and <code>intensities</code> arrays, plus <code>level</code> and metadata fields (<code>instrument</code>, <code>acquisition</code>, <code>sample</code>, <code>user</code>) as <code>NamedTuple</code>s, with <code>extras::Dict{String, Any}</code> for unstructured metadata. Subtypes may include additional fields as needed.</p><p>See also: <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_containers/matrices.jl#L1-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.MassScanMatrix"><a class="docstring-binding" href="#JuChrom.MassScanMatrix"><code>JuChrom.MassScanMatrix</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MassScanMatrix{R, M, I} &lt;: AbstractMassScanMatrix{R, M, I}</code></pre><p>Concrete matrix-based representation of mass spectrometry scan data, stored as aligned retention and m/z axes with an intensity matrix. <code>MassScanMatrix</code> is a subtype of <code>AbstractMassScanMatrix</code>.</p><p><code>R</code> is the separation axis unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>), <code>M</code> is the m/z unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>), and <code>I</code> is the intensity unit type (<code>Unitful.Units</code> subtype or <code>Nothing</code>).</p><p>Fields include <code>retentions::AbstractVector{&lt;:Real}</code>, <code>mzvalues::AbstractVector{&lt;:Real}</code>, <code>intensities::AbstractMatrix{&lt;:Real}</code>, optional units stored in  <code>retentionunit::Union{Unitful.Units, Nothing}</code>, <code>mzunit::Union{Unitful.Units, Nothing}</code>, and <code>intensityunit::Union{Unitful.Units, Nothing}</code>, an MS <code>level::Integer</code>, and metadata in <code>instrument::NamedTuple</code>, <code>acquisition::NamedTuple</code>, <code>user::NamedTuple</code>, <code>sample::NamedTuple</code>, and <code>extras::Dict{String, Any}</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_containers/matrices.jl#L19-L36">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.MassScanMatrix-Tuple{AbstractVector{&lt;:Real}, Union{Nothing, Unitful.Units}, AbstractVector{&lt;:Real}, Union{Nothing, Unitful.Units}, AbstractMatrix{&lt;:Real}, Union{Nothing, Unitful.Units}}"><a class="docstring-binding" href="#JuChrom.MassScanMatrix-Tuple{AbstractVector{&lt;:Real}, Union{Nothing, Unitful.Units}, AbstractVector{&lt;:Real}, Union{Nothing, Unitful.Units}, AbstractMatrix{&lt;:Real}, Union{Nothing, Unitful.Units}}"><code>JuChrom.MassScanMatrix</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">MassScanMatrix(
    retention_unitfree::AbstractVector{&lt;:Real},
    retentionunit::Union{Nothing, Unitful.Units},
    mz_values_unitfree::AbstractVector{&lt;:Real},
    mzunit::Union{Nothing, Unitful.Units},
    intensities_unitfree::AbstractMatrix{&lt;:Real},
    intensityunit::Union{Nothing, Unitful.Units};
    level::Integer=1,
    instrument::NamedTuple=NamedTuple(),
    acquisition::NamedTuple=NamedTuple(),
    user::NamedTuple=NamedTuple(),
    sample::NamedTuple=NamedTuple(),
    extras::AbstractDict=Dict{String, Any}()
)</code></pre><p>Construct a <code>MassScanMatrix</code> from already unitless numeric arrays and explicit unit fields.</p><p>This method is intended for advanced use, when you have already separated units from values  (e.g. after pre-processing or deserialization). All arrays must be strictly numeric  (<code>Real</code>), and unit arguments must be either a compatible <code>Unitful.Units</code> object or <code>nothing</code>  if unitless.</p><p><code>retention_unitfree</code> provides the unitless separation coordinates and <code>retentionunit</code> their unit (or <code>nothing</code>). <code>mz_values_unitfree</code> provides unitless m/z values and <code>mzunit</code> their unit (or <code>nothing</code>). <code>intensities_unitfree</code> provides the unitless intensity matrix and <code>intensityunit</code> its unit (or <code>nothing</code>). <code>level</code> sets the MS level (default <code>1</code>), and <code>instrument</code>, <code>acquisition</code>, <code>user</code>, <code>sample</code>, and <code>extras</code> carry optional metadata. Returns a <code>MassScanMatrix</code> with unitless arrays and units stored separately.</p><p>Throws <code>ArgumentError</code> if retention or m/z values are empty or non-finite, if m/z values are not strictly increasing or are non-positive, if intensities are empty or non-finite, or if <code>level &lt; 1</code>. Throws <code>DimensionMismatch</code> if the intensity matrix shape does not match <code>length(retention_unitfree)</code> × <code>length(mz_values_unitfree)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ret = [1.0, 2.0];
       mzs = [100.0, 200.0, 300.0];
       ints = [1.0 2.0 3.0
               4.0 5.0 6.0];

julia&gt; msm = MassScanMatrix(ret, u&quot;s&quot;, mzs, nothing, ints, nothing);

julia&gt; msm.retentionunit
s
julia&gt; isnothing(msm.mzunit)
true
julia&gt; isnothing(msm.intensityunit)
true
julia&gt; size(msm.intensities)
(2, 3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_containers/matrices.jl#L132-L185">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.MassScanMatrix-Tuple{AbstractVector{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}, AbstractVector{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}, AbstractMatrix{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}}"><a class="docstring-binding" href="#JuChrom.MassScanMatrix-Tuple{AbstractVector{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}, AbstractVector{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}, AbstractMatrix{&lt;:Union{Real, Unitful.AbstractQuantity{&lt;:Real}}}}"><code>JuChrom.MassScanMatrix</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">MassScanMatrix(
    retentions::AbstractVector{&lt;:Union{Real, AbstractQuantity}},
    mzvalues::AbstractVector{&lt;:Union{Real, AbstractQuantity}},
    intensities::AbstractMatrix{&lt;:Union{Real, AbstractQuantity}};
    level::Integer=1,
    instrument::NamedTuple=NamedTuple(),
    acquisition::NamedTuple=NamedTuple(),
    user::NamedTuple=NamedTuple(),
    sample::NamedTuple=NamedTuple(),
    extras::AbstractDict=Dict{String, Any}()
)</code></pre><p>Construct a <code>MassScanMatrix</code> representing a collection of aligned mass spectrometry scans.</p><p>All inputs may contain raw numeric values or <code>Unitful.AbstractQuantity</code> values. If units are  present, they are stripped and stored separately. Each input must either be entirely  unitless or use consistent units across its values.</p><p><code>retentions</code> provides separation coordinates, <code>mzvalues</code> provides m/z values, and <code>intensities</code> provides the intensity matrix; each may be unitless or unitful with consistent units. <code>level</code> sets the MS level (default <code>1</code>), and <code>instrument</code>, <code>acquisition</code>, <code>user</code>, <code>sample</code>, and <code>extras</code> carry optional metadata. Returns a <code>MassScanMatrix</code> with unitless arrays and units stored separately.</p><p>Throws <code>ArgumentError</code> if retentions are empty or non-finite, if m/z values are empty, non-strictly increasing, non-positive, or non-finite, if intensities are empty or contain non-finite values, if units are inconsistent, or if <code>level &lt; 1</code>. Throws <code>DimensionMismatch</code> if the intensity matrix shape does not match <code>length(retentions)</code> × <code>length(mzvalues)</code>.</p><p>See also: <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>retentions</code></a>, <a href="#JuChrom.rawretentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>rawretentions</code></a>,  <a href="#JuChrom.retentionunit-Tuple{AbstractMassScanMatrix}"><code>retentionunit</code></a>, <a href="#JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>mzvalues</code></a>, <a href="#JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>rawmzvalues</code></a>, <a href="#JuChrom.mzunit-Tuple{AbstractMassScanMatrix}"><code>mzunit</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>intensities</code></a>, <a href="#JuChrom.rawintensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>rawintensities</code></a>, <a href="#JuChrom.intensityunit-Tuple{AbstractMassScanMatrix}"><code>intensityunit</code></a>, <a href="#JuChrom.level-Tuple{AbstractMassScanMatrix}"><code>level</code></a>, <a href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>instrument</code></a>, <a href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>acquisition</code></a>, <a href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>user</code></a>, <a href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>sample</code></a>,  <a href="../retention_mapper/#JuChrom.extras"><code>extras</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ret = [1.0, 2.0]u&quot;s&quot;
       mzs = [100.0, 200.0, 300.0];
       ints = [1.0 2.0 3.0
               4.0 5.0 6.0];

julia&gt; msm = MassScanMatrix(ret, mzs, ints);

julia&gt; msm.retentionunit
s

julia&gt; isnothing(msm.mzunit)
true

julia&gt; isnothing(msm.intensityunit)
true

julia&gt; size(msm.intensities)
(2, 3)

julia&gt; msm.level
1

julia&gt; msm.extras
Dict{String, Any}()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_containers/matrices.jl#L225-L289">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>JuChrom.acquisition</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">acquisition(msm::AbstractMassScanMatrix) -&gt; NamedTuple</code></pre><p>Returns the acquisition metadata associated with the mass scan matrix.</p><p>The acquisition metadata typically includes details such as scan mode, method parameters, instrument configuration, or other context relevant to how the mass spectrometry data was  acquired.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>NamedTuple</code> containing acquisition-related metadata.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>instrument</code></a>,  <a href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>sample</code></a>, <a href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>user</code></a>, <a href="../retention_mapper/#JuChrom.extras"><code>extras</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0], 
                            acquisition=(mode = &quot;DIA&quot;, method = &quot;Orbitrap-MS&quot;));

julia&gt; acquisition(msm)
(mode = &quot;DIA&quot;, method = &quot;Orbitrap-MS&quot;)

julia&gt; acquisition(msm).method
&quot;Orbitrap-MS&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L3-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.extras-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.extras-Tuple{AbstractMassScanMatrix}"><code>JuChrom.extras</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">extras(msm::AbstractMassScanMatrix) -&gt; Dict{String, Any}</code></pre><p>Returns the unstructured extras associated with the mass scan matrix.</p><p>This dictionary may contain arbitrary key-value pairs that are not captured by the  structured fields such as <code>instrument</code>, <code>acquisition</code>, <code>user</code>, or <code>sample</code>.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>Dict{String, Any}</code> containing unstructured metadata.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>acquisition</code></a>,  <a href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>instrument</code></a>, <a href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>sample</code></a>, <a href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>user</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]; 
                             extras=Dict(&quot;run&quot; =&gt; 42, &quot;comment&quot; =&gt; &quot;Baseline drift&quot;));

julia&gt; extras(msm)
Dict{String, Any} with 2 entries:
  &quot;run&quot;     =&gt; 42
  &quot;comment&quot; =&gt; &quot;Baseline drift&quot;

julia&gt; extras(msm)[&quot;qc_passed&quot;] = true;

julia&gt; extras(msm)
Dict{String, Any} with 3 entries:
  &quot;qc_passed&quot; =&gt; true
  &quot;run&quot;       =&gt; 42
  &quot;comment&quot;   =&gt; &quot;Baseline drift&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L34-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>JuChrom.instrument</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">instrument(msm::AbstractMassScanMatrix) -&gt; NamedTuple</code></pre><p>Returns the instrument metadata associated with the mass scan matrix.</p><p>This typically includes information about the hardware used for data acquisition, such as  detector type, manufacturer, model, or configuration parameters.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>NamedTuple</code> containing instrument-specific metadata.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>acquisition</code></a>,  <a href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>sample</code></a>, <a href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>user</code></a>, <a href="../retention_mapper/#JuChrom.extras"><code>extras</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0];
                            instrument=(detector=&quot;Orbitrap&quot;, manufacturer=&quot;Thermo&quot;));

julia&gt; instrument(msm)
(detector = &quot;Orbitrap&quot;, manufacturer = &quot;Thermo&quot;)

julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0];
                            instrument=(detector=&quot;Orbitrap&quot;, manufacturer=&quot;Thermo&quot;));


julia&gt; instrument(msm).detector
&quot;Orbitrap&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L71-L100">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><a class="docstring-binding" href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>JuChrom.intensities</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">intensities(msm::AbstractMassScanMatrix;
            unit::Union{Nothing, Unitful.Units}=nothing) -&gt; Matrix{&lt;:Real}</code></pre><p>Return the intensity values from all scans in a mass scan matrix.</p><p>This function retrieves the intensity values from each scan in the mass scan matrix.   If the matrix stores unitful intensities and a <code>unit</code> is specified, the values are  converted accordingly. If the matrix stores unitless intensities, a unit conversion  request will throw an <code>ArgumentError</code>.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code> containing mass scans. <code>unit</code> is an optional <code>Unitful.Units</code> object to convert intensities to; if omitted or <code>nothing</code>, intensities are returned as stored. Returns a matrix of intensity values, either plain numbers or <code>AbstractQuantity</code>s depending on stored data. Throws <code>ArgumentError</code> if the scan matrix stores unitless intensities but a unit conversion is requested.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>,  <a href="#JuChrom.intensityunit-Tuple{AbstractMassScanMatrix}"><code>intensityunit</code></a>, <a href="#JuChrom.rawintensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>rawintensities</code></a>, <a href="#JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><code>mzcount</code></a>, <a href="#JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><code>scancount</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1, 2]u&quot;s&quot;, [100.0, 150.0], [10.0 20.0; 15.0 25.0]u&quot;pA&quot;);

julia&gt; intensities(msm) ≈ [10.0 20.0; 15.0 25.0]u&quot;pA&quot;
true

julia&gt; intensities(msm, unit=u&quot;nA&quot;) ≈ [0.01 0.02; 0.015 0.025]u&quot;nA&quot;
true

julia&gt; msm2 = MassScanMatrix([1, 2]u&quot;s&quot;, [100.0, 150.0], [10.0 20.0; 15.0 25.0]);

julia&gt; intensities(msm2) ≈ [10.0 20.0; 15.0 25.0]
true

julia&gt; intensities(msm2, unit=u&quot;nA&quot;)
ERROR: ArgumentError: Cannot convert unitless intensities to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L105-L144">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.intensityunit-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.intensityunit-Tuple{AbstractMassScanMatrix}"><code>JuChrom.intensityunit</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">intensityunit(msm::AbstractMassScanMatrix) -&gt; Union{Unitful.Units, Nothing}</code></pre><p>Return the unit associated with the intensity values of a mass scan matrix.</p><p>This function retrieves the <code>intensityunit</code> field from any mass scan matrix subtype,  which indicates the physical unit used for the signal intensities (e.g. <code>u&quot;pA&quot;</code>). If  no unit was specified at construction, returns <code>nothing</code>.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code> such as <code>MassScanMatrix</code>. Returns a <code>Unitful.Units</code> subtype representing the intensity unit, or <code>nothing</code> if unspecified.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="../Scans/#JuChrom.AbstractMassScan"><code>AbstractMassScan</code></a>,  <a href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>intensities</code></a>, <a href="#JuChrom.rawintensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>rawintensities</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]u&quot;pA&quot;);

julia&gt; intensityunit(msm)
pA

julia&gt; msm2 = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; intensityunit(msm2) === nothing
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L159-L186">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.level-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.level-Tuple{AbstractMassScanMatrix}"><code>JuChrom.level</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">level(msm::AbstractMassScanMatrix) -&gt; Integer</code></pre><p>Return the MS level of a mass scan matrix.</p><p>The MS level indicates the stage of mass spectrometry at which the scans were acquired (for example <code>1</code> for MS1, <code>2</code> for MS/MS, higher values for MS^n). <code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code> such as <code>MassScanMatrix</code>. Returns an <code>Integer</code> value representing the MS level (guaranteed to be ≥ 1).</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="../ScanSeries/#JuChrom.levels-Tuple{AbstractMassScanSeries}"><code>levels</code></a>,  <a href="../transform/#JuChrom.levelscans"><code>levelscans</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]; level=2);

julia&gt; level(msm)
2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L191-L211">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><code>JuChrom.mzcount</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">mzcount(msm::AbstractMassScanMatrix) -&gt; Int</code></pre><p>Return the number of m/z values in the mass scan matrix.</p><p>This utility function returns the length of the <code>mzvalues</code> vector stored in a mass  spectrometric scan matrix. It reflects the number of unique m/z data points (peaks)  measured across all scans in the matrix, typically corresponding to the columns of the  intensity matrix.</p><p><code>msm</code> is a mass scan matrix object such as <code>MassScanMatrix</code> containing multiple scans and  their associated m/z values. Returns an <code>Int</code> number of m/z values in the scan matrix.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="../Scans/#JuChrom.AbstractMassScan"><code>AbstractMassScan</code></a>, <a href="#JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>mzvalues</code></a>,  <a href="#JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>rawmzvalues</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0]);

julia&gt; mzcount(msm)
2

julia&gt; mzcount(msm) == size(intensities(msm), 2)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L216-L242">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.mzunit-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.mzunit-Tuple{AbstractMassScanMatrix}"><code>JuChrom.mzunit</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">mzunit(msm::AbstractMassScanMatrix) -&gt; Union{Unitful.Units, Nothing}</code></pre><p>Return the unit associated with the mass-to-charge (m/z) values of a mass scan matrix.</p><p>Typically, this is <code>nothing</code>, since m/z values are conventionally unitless. If a unit was explicitly provided during matrix construction, it will be returned.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code> such as <code>MassScanMatrix</code>. Returns a <code>Unitful.Units</code> subtype representing the m/z unit, or <code>nothing</code> if unspecified.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="../Scans/#JuChrom.AbstractMassScan"><code>AbstractMassScan</code></a>, <a href="#JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>mzvalues</code></a>,  <a href="#JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>rawmzvalues</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0]u&quot;Th&quot;, [1.0 2.0; 3.0 4.0]);

julia&gt; mzunit(msm)
Th

julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; mzunit(msm) == nothing
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L247-L273">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><a class="docstring-binding" href="#JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>JuChrom.mzvalues</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">mzvalues(msm::AbstractMassScanMatrix; unit::Union{Nothing, Unitful.Units}=nothing)</code></pre><p>Return the mass-to-charge (m/z) values from a mass scan matrix.</p><p>This method supports both unitless and unitful matrices. If the matrix has an associated m/z  unit, values can be converted to a different unit using the optional <code>unit</code> argument.  If the matrix is unitless and a unit is requested, an error is thrown.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code>. <code>unit</code> is an optional target unit. Returns a vector of m/z values, converted to the requested unit when specified, otherwise returned in stored form. Throws <code>ArgumentError</code> if the matrix is unitless and a unit is requested, and <code>AssertionError</code> if the matrix claims to have a unit but <code>mzunit</code> is <code>nothing</code>.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="../Scans/#JuChrom.AbstractMassScan"><code>AbstractMassScan</code></a>, <a href="#JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>rawmzvalues</code></a>,  <a href="#JuChrom.mzunit-Tuple{AbstractMassScanMatrix}"><code>mzunit</code></a>, <a href="#JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><code>mzcount</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>intensities</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0]u&quot;Th&quot;, [1.0 2.0; 3.0 4.0]);

julia&gt; mzvalues(msm) == [100.0, 200.0]u&quot;Th&quot;
true

julia&gt; mzvalues(msm, unit=u&quot;kTh&quot;) == [0.1, 0.2]u&quot;kTh&quot;
true

julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; mzvalues(msm) == [100.0, 200.0]
true

julia&gt; mzvalues(msm, unit=u&quot;Th&quot;)
ERROR: ArgumentError: Cannot convert unitless m/z values to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L278-L315">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.rawintensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><a class="docstring-binding" href="#JuChrom.rawintensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>JuChrom.rawintensities</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">rawintensities(msm::AbstractMassScanMatrix;
               unit::Union{Nothing, Unitful.Units}=nothing) -&gt; Matrix</code></pre><p>Return the numeric (unitless) intensity values from all scans in a mass scan matrix.</p><p>If the scan matrix’s <code>intensityunit</code> is not <code>nothing</code>, the intensity values are optionally  converted to the user-specified <code>unit</code> using <code>uconvert</code>, then stripped of units. If no  <code>unit</code> is specified, the stored unit is used for stripping.</p><p>If the matrix does not define intensity units, requesting a unit conversion will throw an  <code>ArgumentError</code>.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code> such as <code>MassScanMatrix</code>. <code>unit</code> is an optional <code>Unitful.Units</code> object to convert raw intensities before stripping; it must be <code>nothing</code> for unitless matrices. Returns a matrix of unitless intensity values with optional conversion (rows are scans, columns are m/z values). Throws <code>ArgumentError</code> if a unit is requested but the scan matrix has no defined intensity unit.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>intensities</code></a>,  <a href="#JuChrom.intensityunit-Tuple{AbstractMassScanMatrix}"><code>intensityunit</code></a>, <a href="#JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><code>scancount</code></a>, <a href="#JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><code>mzcount</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1, 2]u&quot;s&quot;, [100.0, 150.0], [10.0 20.0; 15.0 25.0]u&quot;pA&quot;);

julia&gt; rawintensities(msm, unit=u&quot;nA&quot;) ≈ [0.01 0.02; 0.015 0.025]
true

julia&gt; msm2 = MassScanMatrix([1, 2]u&quot;s&quot;, [100.0, 150.0], [10.0 20.0; 15.0 25.0]);

julia&gt; rawintensities(msm2) ≈ [10.0 20.0; 15.0 25.0]
true

julia&gt; rawintensities(msm2, unit=u&quot;pA&quot;)
ERROR: ArgumentError: Cannot convert unitless intensities to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L330-L368">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><a class="docstring-binding" href="#JuChrom.rawmzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>JuChrom.rawmzvalues</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">rawmzvalues(msm::AbstractMassScanMatrix; unit::Union{Nothing, Unitful.Units}=nothing)</code></pre><p>Return the raw (unit-stripped) m/z values from a mass scan matrix.</p><p>This method returns the numeric representation of m/z values, optionally converted  to a different unit. If the matrix is unitless and a unit conversion is requested,  an error is thrown.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code>. <code>unit</code> is an optional target unit. Returns a vector of numeric m/z values, optionally converted and stripped of units. Throws <code>ArgumentError</code> if the matrix is unitless and a unit is requested, and <code>AssertionError</code> if the matrix claims to have a unit but <code>mzunit</code> is <code>nothing</code>.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="../Scans/#JuChrom.AbstractMassScan"><code>AbstractMassScan</code></a>, <a href="#JuChrom.mzvalues-Tuple{AbstractMassScanMatrix{&lt;:Any, Nothing}}"><code>mzvalues</code></a>,  <a href="#JuChrom.mzunit-Tuple{AbstractMassScanMatrix}"><code>mzunit</code></a>, <a href="#JuChrom.mzcount-Tuple{AbstractMassScanMatrix}"><code>mzcount</code></a>, <a href="#JuChrom.intensities-Tuple{AbstractMassScanMatrix{&lt;:Any, &lt;:Any, Nothing}}"><code>intensities</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0]u&quot;Th&quot;, [1.0 2.0; 3.0 4.0]);

julia&gt; rawmzvalues(msm) == [100.0, 200.0]
true

julia&gt; msm2 = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; rawmzvalues(msm2) == [100.0, 200.0]
true

julia&gt; rawmzvalues(msm2, unit=u&quot;kTh&quot;)
ERROR: ArgumentError: Cannot convert unitless m/z values to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L383-L416">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.rawretentions-Tuple{AbstractMassScanMatrix{Nothing}}"><a class="docstring-binding" href="#JuChrom.rawretentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>JuChrom.rawretentions</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">rawretentions(msm::AbstractMassScanMatrix{Nothing}; 
              unit::Union{Nothing, Unitful.Units}=nothing) -&gt; Vector{&lt;:Real}</code></pre><p>Returns the raw (unitless) retention values for all scans in the given mass scan matrix.</p><p>If the scan matrix stores unitless retention values, they are returned as-is. If a unit is  requested via the <code>unit</code> keyword, an error is thrown since conversion is not possible.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code> with unitless retentions. <code>unit</code> must be <code>nothing</code> for unitless retention values. Returns a vector of raw, unitless retention values. Throws <code>ArgumentError</code> if a unit is requested for a scan matrix that does not define a retention unit.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>retentions</code></a>,  <a href="#JuChrom.retentionunit-Tuple{AbstractMassScanMatrix}"><code>retentionunit</code></a>, <a href="#JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><code>scancount</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; rawretentions(msm) == [1.0, 2.0]
true

julia&gt; msm2 = MassScanMatrix([1.0, 2.0], [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; rawretentions(msm2, unit=u&quot;s&quot;)
ERROR: ArgumentError: Cannot convert unitless retentions to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L431-L461">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><a class="docstring-binding" href="#JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>JuChrom.retentions</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">retentions(msm::AbstractMassScanMatrix; unit::Union{Nothing, Unitful.Units}=nothing)</code></pre><p>Return the vector of retention values from a mass scan matrix, optionally converted to a specified unit.</p><p>If the matrix stores a <code>retentionunit</code>, values are returned as <code>Unitful.AbstractQuantity</code>s and any requested <code>unit</code> is applied via <code>uconvert</code>. If the matrix is unitless, the raw numeric vector is returned unless a unit conversion is requested, which throws <code>ArgumentError</code>. This function does not assign units to unitless matrices; it only converts when a unit is stored.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code> whose retentions are stored as a vector. <code>unit</code> is an optional target unit (for example <code>u&quot;s&quot;</code> or <code>u&quot;minute&quot;</code>) used only when a unit is stored.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>,  <a href="#JuChrom.rawretentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>rawretentions</code></a>, <a href="#JuChrom.retentionunit-Tuple{AbstractMassScanMatrix}"><code>retentionunit</code></a>, <a href="#JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><code>scancount</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; retentions(msm) == [1.0, 2.0]u&quot;s&quot;
true

julia&gt; retentions(msm; unit=u&quot;ms&quot;) == [1000.0, 2000.0]u&quot;ms&quot;
true

julia&gt; msm2 = MassScanMatrix([1.0, 2.0], [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; retentions(msm2) == [1.0, 2.0]  # unitless
true

julia&gt; retentions(msm2; unit=u&quot;s&quot;)
ERROR: ArgumentError: Cannot convert unitless retentions to a unit
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L476-L514">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.retentionunit-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.retentionunit-Tuple{AbstractMassScanMatrix}"><code>JuChrom.retentionunit</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">retentionunit(scan::AbstractMassScanMatrix) -&gt; Union{Unitful.Units, Nothing}</code></pre><p>Return the unit associated with the retention value of a scan.</p><p>This function retrieves the <code>retentionunit</code> field from any scan subtype, which indicates  the physical unit used along the separation axis (e.g. <code>u&quot;s&quot;</code>, <code>u&quot;minute&quot;</code>). If no unit  was specified at construction, returns <code>nothing</code>.</p><p><code>msm</code> is a subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>Unitful.Units</code> subtype representing the retention unit, or <code>nothing</code> if unspecified.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>,  <a href="#JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>retentions</code></a>, <a href="#JuChrom.rawretentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>rawretentions</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; retentionunit(msm)
s

julia&gt; msm2 = MassScanMatrix([1.0, 2.0]u&quot;minute&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0]);

julia&gt; retentionunit(msm2)
minute</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L529-L556">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.sample-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>JuChrom.sample</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">sample(msm::AbstractMassScanMatrix) -&gt; NamedTuple</code></pre><p>Returns the sample metadata associated with the mass scan matrix.</p><p>This typically includes information about the analyzed sample, such as sample ID, origin,  preparation details, or treatment conditions.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>NamedTuple</code> containing sample-related metadata.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>acquisition</code></a>,  <a href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>instrument</code></a>, <a href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>user</code></a>, <a href="../retention_mapper/#JuChrom.extras"><code>extras</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0],
                            sample=(ID = &quot;Polistes dominula&quot;, locality = &quot;Germany&quot;));

julia&gt; sample(msm)
(ID = &quot;Polistes dominula&quot;, locality = &quot;Germany&quot;)

julia&gt; sample(msm).ID
&quot;Polistes dominula&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L561-L586">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.scancount-Tuple{AbstractMassScanMatrix}"><code>JuChrom.scancount</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">scancount(msm::AbstractMassScanMatrix) -&gt; Int</code></pre><p>Return the number of individual scans in the mass scan matrix.</p><p>This function returns the number of scan entries (e.g. time points or separation  coordinates) in the mass scan matrix. It reflects the total number of scans stored in the  intensity matrix.</p><p><code>msm</code> is a mass scan matrix object such as <code>MassScanMatrix</code> containing multiple scans and their associated retention times or separation coordinates. Returns an <code>Int</code> number of scan elements in the matrix.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.retentions-Tuple{AbstractMassScanMatrix{Nothing}}"><code>retentions</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([0.5, 1.0]u&quot;s&quot;, [100.0, 150.0, 200.0], [10 20 30; 15 25 35]);

julia&gt; scancount(msm)
2

julia&gt; scancount(msm) == size(intensities(msm), 1)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L589-L614">source</a></section></details></article><article><details class="docstring" open="true"><summary id="JuChrom.user-Tuple{AbstractMassScanMatrix}"><a class="docstring-binding" href="#JuChrom.user-Tuple{AbstractMassScanMatrix}"><code>JuChrom.user</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">user(msm::AbstractMassScanMatrix) -&gt; NamedTuple</code></pre><p>Returns the user metadata associated with the mass scan matrix.</p><p>This typically includes information about the operator, data analyst, or other user-specific annotations relevant to the acquisition or processing of the data.</p><p><code>msm</code> is a concrete subtype of <code>AbstractMassScanMatrix</code>. Returns a <code>NamedTuple</code> containing user-related metadata.</p><p>See also <a href="#JuChrom.AbstractMassScanMatrix"><code>AbstractMassScanMatrix</code></a>, <a href="#JuChrom.MassScanMatrix"><code>MassScanMatrix</code></a>, <a href="#JuChrom.acquisition-Tuple{AbstractMassScanMatrix}"><code>acquisition</code></a>,  <a href="#JuChrom.instrument-Tuple{AbstractMassScanMatrix}"><code>instrument</code></a>, <a href="#JuChrom.sample-Tuple{AbstractMassScanMatrix}"><code>sample</code></a>, <a href="../retention_mapper/#JuChrom.extras"><code>extras</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; msm = MassScanMatrix([1.0, 2.0]u&quot;s&quot;, [100.0, 200.0], [1.0 2.0; 3.0 4.0],
                            user=(operator = &quot;Alice&quot;, project = &quot;QC-2025&quot;));

julia&gt; user(msm)
(operator = &quot;Alice&quot;, project = &quot;QC-2025&quot;)

julia&gt; user(msm).operator
&quot;Alice&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_getters/matrices.jl#L619-L644">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.:--Tuple{MassScanMatrix, MassScanMatrix}"><a class="docstring-binding" href="#Base.:--Tuple{MassScanMatrix, MassScanMatrix}"><code>Base.:-</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">Base.:(-)(msm₁::MassScanMatrix, msm₂::MassScanMatrix)</code></pre><p>Return a <code>MassScanMatrix</code> whose intensities are the elementwise difference <code>intensities(msm₁) .- intensities(msm₂)</code>, after verifying that retention coordinates, m/z values, MS level, and metadata match.</p><p>Throws <code>DimensionMismatch</code> if any of <code>retentions</code>, <code>mzvalues</code>, <code>level</code>, or metadata (<code>instrument</code>, <code>acquisition</code>, <code>user</code>, <code>sample</code>, <code>extras</code>) differ between the inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oniehuis/JuChrom.jl/blob/0c460ffb18802ed8cd365b68e9ec73cf52e8ab1f/src/core/core_containers/matrices.jl#L333-L342">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ScanSeries/">« ScansSeries</a><a class="docs-footer-nextpage" href="../loaders/">Loaders »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 10 January 2026 14:25">Saturday 10 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
